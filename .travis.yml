language: clojure
lein: lein2
sudo: false
cache:
  directories:
    - $HOME/.m2
script:
  - $TEST_CMD
env:
  - TEST_CMD="lein test-all"
  - TEST_CMD="lein with-profile +1.6 test-all"
  - TEST_CMD="lein with-profile +1.7 test-all"
jdk:
  - openjdk7
  - oraclejdk7
  - oraclejdk8
matrix:
  include:
    - env: TEST_CMD="lein with-profile +1.7 coverage"
      jdk: oraclejdk8
    - env: TEST_CMD="lein with-profile +1.7 eastwood"
      jdk: oraclejdk8
